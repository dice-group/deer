(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/deer-logo.b55379b3.svg"},103:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(20),l=a.n(o),i=a(16),s=a(129),c=(a(69),a(70),a(71),a(72),a(73),a(6)),u=a(7),p=a(9),d=a(8),m=a(56),f=a(13),h=a(126),g=a(127),v=a(128),b=(a(74),a(57)),w=a.n(b),E=(a(76),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var r=Object(f.a)(n);return n.linkWidget=n.addWidget("button","read more",n.linkName,function(e){e&&window.open(r.linkName,"_blank")}),n.widgets_start_y=70,n.widgets_up=!1,n.onDrawForeground=function(e,t){if(!n.flags.collapsed){e.font="12px Arial";var a=null;n.message[0]&&(a=n.message[0].replace(/"/g,"")),a=a||"Description of the node ...Continue description of the node ...";for(var r=n.splitStringForCanvas(a).split("\n"),o=0;o<r.length;o++)e.fillText(r[o],10,55+12*o)}},n}return Object(u.a)(a,[{key:"splitStringForCanvas",value:function(e){var t="",a=27;this.props.includes("Operator")&&(a=49);for(var n=new RegExp(".{1,"+a+"}","g"),r=e.match(n),o=0;o<r.length;o++)t+=r[o].trim()+"\n";return t}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component)),y=a(62),x=a(63),P=a(26),C=a(131),N=a(110),j=a(111),O=a(112),S=a(113),k=a(114),D=a(115),F=a(116),_=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeInput=function(e,t){var a=Object.assign({},n.props.panelData),r=e.target.value;e.target.value.length>1&&(r=e.target.value.trim()),a.properties[t]=r,n.props.updateParentPanelData(a,n.props.panelData.numNodeType)},n.changeInputWithRadio=function(e,t){n.changeInput(e,t);var a=Object.assign({},n.props.panelData),r=a.properties,o=n.props.panelData.xoneProperties.filter(function(e){return void 0!==e&&e!==t});Object.keys(a.properties).forEach(function(e){o.forEach(function(t){t===e&&(r[e]="")})}),a.properties=r,n.props.updateParentPanelData(a,n.props.panelData.numNodeType)},n.changeRadio=function(e,t){if(e.target.value=" ",n.changeInputWithRadio(e,t),"selector"===t)n.setState({showSelectorProps:!0});else{n.setState({showSelectorProps:!1});var a=Object.assign({},n.props.panelData),r=a.properties;if(n.props.panelData.xoneProperties.filter(function(e){return void 0!==e&&e!==t}).includes("selector")){var o=n.props.panelData.propsSelector.propsMaxCount.map(function(e){return e.nodeSelectorProp});Object.keys(a.properties).forEach(function(e){o.forEach(function(t){t===e&&(r[e]="")})})}a.properties=r,n.props.updateParentPanelData(a,n.props.panelData.numNodeType)}},n.addOneMoreProperty=function(e){var t=e;e=e.replace(/\d+/g,"").replace("_extra_","");var a=n.props.panelData.propsSelector.propsMaxCount,r=Object.assign({},n.props.panelData),o=a.filter(function(t){return t.nodeSelectorProp===e})[0].maxCount,l=a.filter(function(t){return t.nodeSelectorProp.includes(e)}).filter(function(e){return e.nodeSelectorProp.includes("_extra_")&&e.nodeSelectorProp.split("_extra_")[0]===t}).map(function(e){return e.nodeSelectorProp.split("_extra_")[1]}),i=Math.max.apply(Math,Object(P.a)(l))+1;0===l.length&&(i="1"),parseInt(o)>=parseInt(i)+1?(r.propsSelector.propsMaxCount.push({nodeSelectorProp:t+"_extra_"+i,maxCount:o}),r.properties[t+"_extra_"+i]="",n.props.updateParentPanelData(r,n.props.panelData.numNodeType)):alert("maxCount: "+o)},n.addOneMorePropertyBundle=function(e){e=e[0];for(var t=-1,a=function(a){var r=e[a];if(!r.includes("_extra_")){r=r.replace(/\d+/g,"");var o=n.props.panelData.propsSelector.propsMaxCount,l=Object.assign({},n.props.panelData);t=o.filter(function(e){return e.nodeSelectorProp===r})[0].maxCount;var i=o.filter(function(e){return e.nodeSelectorProp.includes(r)&&e.nodeSelectorProp.match(/\d+/g)}).map(function(e){return e.nodeSelectorProp.match(/\d+/g)[0]}),s=Math.max.apply(Math,Object(P.a)(i))+1;0===i.length&&(s="2"),l.propsSelector.propsMaxCount.push({nodeSelectorProp:r+s,maxCount:t}),l.properties[r+s]="",n.props.updateParentPanelData(l,n.props.panelData.numNodeType)}},r=0;r<e.length;r++)a(r)},n.removeSelector=function(e){for(var t=Object.assign({},n.props.panelData),a=0;a<e.length;a++){var r=t.properties,o=e[a],l=(r[o],Object(y.a)(r,[o].map(x.a)));t.properties=l}t.propsSelector.propsMaxCount=t.propsSelector.propsMaxCount.filter(function(t){return e.every(function(e){return t.nodeSelectorProp!==e})}),n.props.updateParentPanelData(t,n.props.panelData.numNodeType)},n.state={showSelectorProps:!1,name:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(""===this.props.panelData.properties.name){var e=Object(C.a)(),t=Object.assign({},this.props.panelData);t.properties.name=e,this.props.updateParentPanelData(t,this.props.panelData.numNodeType),this.setState({name:e})}else this.setState({name:this.props.panelData.properties.name})}},{key:"render",value:function(){var e=this,t=this.props.panelData.xoneProperties.filter(function(e){return void 0!==e}),a=this.props.panelData.propsSelector.propsMaxCount,o=a.map(function(e){return e.nodeSelectorProp}),l=Object.keys(this.props.panelData.properties).filter(function(e){return!t.includes(e)&&!o.includes(e)&&"operation"!==e&&"name"!=e});return t.includes("selector")&&!1===this.state.showSelectorProps&&0==this.props.panelData.properties.selector.length&&(o=[]),o.length&&(o=this.props.sortBySelectorValue(o)),r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"numbers"},r.a.createElement(j.a,{tag:"p",className:"nodeName"},this.props.panelData.nodePath.split("/")[1]),r.a.createElement("p",{className:"nodePath"},this.props.panelData.nodePath)),r.a.createElement(O.a,null,r.a.createElement("p",null,"Properties"),l.map(function(t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(S.a,null,r.a.createElement("label",null,t),r.a.createElement(k.a,{type:"text",value:e.props.panelData.properties[t],onChange:function(a){return e.changeInput(a,t)}})))}),t.map(function(t){return r.a.createElement(S.a,{check:!0,key:t},r.a.createElement("label",null,t),r.a.createElement(D.a,{check:!0},r.a.createElement(k.a,{type:"radio",checked:0!==e.props.panelData.properties[t].length,onChange:function(a){return e.changeRadio(a,t)},name:"radio1"}),"selector"!==t?r.a.createElement(k.a,{type:"text",value:e.props.panelData.properties[t],onChange:function(a){return e.changeInputWithRadio(a,t)}}):r.a.createElement("div",{className:"shiftCheckbox"})))}),o.map(function(t,o){return r.a.createElement("div",{className:"panelSelectorRow",key:o},0!==o?r.a.createElement(F.a,{outline:!0,color:"primary",size:"sm",onClick:function(){return e.removeSelector(t)},className:"delButton"},r.a.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true"})):"",t.map(function(t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(S.a,null,r.a.createElement("label",null,t),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(k.a,{type:"text",value:e.props.panelData.properties[t],onChange:function(a){return e.changeInput(a,t)}})),a.filter(function(e){return e.nodeSelectorProp===t})[0].maxCount>1?r.a.createElement(F.a,{className:"plusButton",onClick:function(){return e.addOneMoreProperty(t)},color:"primary"},"+"):null)))}))}),this.props.panelData.properties.selector&&this.props.panelData.properties.selector.length||"operation"in this.props.panelData.properties?r.a.createElement(F.a,{className:"plusButtonFixed",onClick:function(){return e.addOneMorePropertyBundle(o)},color:"primary"},"+"):null)))}}]),a}(r.a.Component),I=a(130),R=a(117),M=a(118),T=a(119),L=a(120),B=a(121),W=a(122),q=a(132),U=a(123),z=a(124),A=a(125),Q=a(106),X=Q.DataFactory,G=X.namedNode,V=X.literal,H=X.defaultGraph,J=window.location.href,Y=(window.location.hostname,window.location.port,window.LiteGraph),K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateParentPanelData=function(e,t){var a=Object.assign([],n.state.panelData),r=a.findIndex(function(e){return t===e.numNodeType});a[r]=e,n.setState({panelData:a})},n.getBaseUrl=function(){return new RegExp(/^.*\//).exec(window.location.href)},n.callbackFunction=function(e){n.setState({formProperties:e})},n.resizeWindowFunc=function(){var e=document.getElementById("mycanvas"),t=document.getElementById("parentCanvas");e.width=t.offsetWidth,e.height=t.offsetHeight,null!=n.state.graphCanvas&&n.state.graphCanvas.resize()},n.getPropertyFirst=function(e){e.forEach(function(e){var t=n.state.fullContent.filter(function(t){return t.subject.id.includes(e.object.id)});if(t[0]&&!t[0].object.id.includes("_:n")){var a=n.state.tempXoneNodeParams;a.push(t[0].object.id),n.setState({tempXoneNodeParams:a})}!e.object.id.includes("nil")&&e.predicate.id.includes("rest")&&n.getPropertyFirst(t)})},n.getPropertiesForNode=function(e){n.setState({tempXoneNodeParams:[]});var t=n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("property")}).map(function(e){return e.object.id}),a=n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("property")&&t.object.id.split("_").length-1==2}).map(function(e){return e.object.id}),r=n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&(t.subject.id.includes("selector")||t.subject.id.includes("operation"))&&t.predicate.id.includes("minCount")}).map(function(e){return e.object.id}),o=-1;r.length&&(o=r[0].split("^^")[0].match(/\d+/g)[0],console.log(e,o));var l=[];a.forEach(function(e){for(var t=0;t<o;t++){var a=n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("maxCount")}).map(function(e){return e.object.id})[0].split("^^")[0].match(/\d+/g)[0],r=n.getPropertyName(e);0===t?l.push({nodeSelectorProp:r,maxCount:a}):l.push({nodeSelectorProp:r+t,maxCount:a})}});var i=n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("xone")}),s=[];return i.forEach(function(e){var t=n.state.fullContent.filter(function(t){return t.subject.id.includes(e.object.id)});n.getPropertyFirst(t),s=n.state.tempXoneNodeParams}),{basicProps:t,xone:s,propsSelector:{selectorMinCount:o,propsMaxCount:l}}},n.getPropertyName=function(e){var t=e.split("_");return t.length>2?t[t.length-1]:t[1]},n.getInputPorts=function(e){return n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("maxInPorts")}).map(function(e){return e.object.id})},n.getOutputPorts=function(e){return n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("maxOutPorts")}).map(function(e){return e.object.id})},n.getMessage=function(e){return n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("comment")}).map(function(e){return e.object.id})},n.getUrlForTheNode=function(e){return n.state.fullContent.filter(function(t){return t.subject.id.includes(e)&&t.predicate.id.includes("seeAlso")}).map(function(e){return e.object.id})},n.initializeNode=function(e){var t=n.getPropertiesForNode(e),a=n.getInputPorts(e)[0],r=n.getOutputPorts(e)[0],o=a.match(/\d+/)[0],l=r.match(/\d+/)[0],i=n.getMessage(e),s=n.getUrlForTheNode(e),u=null,m=t.propsSelector,h=Object(f.a)(n),g={name:""},v=t.basicProps.map(function(e){return n.getPropertyName(e)});if(v.forEach(function(e){g[e]=""}),v=t.xone.filter(function(t){return t.includes(e)}).map(function(e){return n.getPropertyName(e)}),u=v,v.forEach(function(e){g[e]=""}),m.propsMaxCount.forEach(function(e){g[e.nodeSelectorProp]=""}),e.includes("Operator")){var b=function(t){Object(p.a)(n,t);var a=Object(d.a)(n);function n(t){var r;Object(c.a)(this,n),r=a.call(this,t);for(var p=0;p<o;p++)r.addInput("input","text");for(var d=0;d<l;d++)r.addOutput("output","text");return r.message=i,r.linkName=s,r.onDblClick=function(t){h.showProperies("Operator/",t,e,g,u,m)},r}return n}(E);b.title=e,b.size=[320,100],b.color="#664d00",b.bgcolor="#8c6a00",Y.registerNodeType("Operator/"+e,b)}else if(e.includes("Reader")){var w=function(t){Object(p.a)(n,t);var a=Object(d.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=a.call(this,t)).addOutput("output","text"),r.message=i,r.linkName=s,r.onDblClick=function(t){h.showProperies("Reader/",t,e,g,u,m)},r}return n}(E);w.title=e,w.size=[180,100],w.color="#223322",w.bgcolor="#335533",Y.registerNodeType("Reader/"+e,w)}else{var y=function(t){Object(p.a)(n,t);var a=Object(d.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=a.call(this,t)).addInput("input","text"),r.message=i,r.linkName=s,r.onDblClick=function(t){h.showProperies("Writer/",t,e,g,u,m)},r}return n}(E);y.title=e,y.size=[180,100],y.color="#223322",y.bgcolor="#335533",Y.registerNodeType("Writer/"+e,y)}},n.showProperies=function(e,t,a,r,o,l){var i=Object.assign({},r),s=Object.assign([],n.state.panelData);(s=s.map(function(e){var t=Object.assign({},e);return t.showPanel=!1,t}),n.state.panelData.find(function(n){return n.numNodeType===t.target.data.current_node.id&&n.nodePath===e+a}))?(s[n.state.panelData.findIndex(function(n){return n.nodePath===e+a&&n.numNodeType===t.target.data.current_node.id})].showPanel=!0,n.setState({panelData:s})):(s.push({numNodeType:t.target.data.current_node.id,nodePath:e+a,properties:i,xoneProperties:o,showPanel:!0,propsSelector:l}),n.setState({panelData:s}))},n.showNode=function(e){if(e.predicate.id.includes("targetClass")){var t=e.object.id.split("https://w3id.org/deer/")[1],a=n.state.nodesArray;t&&(a.add(t),n.initializeNode(t)),n.setState({nodesArray:a})}},n.toggleDropdown=function(){n.setState({show:!n.state.show})},n.saveConfig=function(){var e=n.state.graph.serialize(),t=(X.quad(G("https://ruben.verborgh.org/profile/#me"),G("http://xmlns.com/foaf/0.1/givenName"),V("Ruben","en"),H()),new Q.Writer({prefixes:n.state.prefixes},{format:"N-Triples"}));new Q.Parser({format:"N3",blankNodePrefix:""});return e.nodes.map(function(e,a){var r=[];if(e.properties=n.state.panelData.filter(function(t){return t.numNodeType===e.id&&t.nodePath===e.type})[0].properties,t.addQuad(G("urn:example:demo/"+e.properties.name),G("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),G("https://w3id.org/deer/"+e.type.split("/")[1])),e.inputs){for(var o=0;o<e.inputs.length;o++)if(e.inputs[o].link){var l=e.inputs[o].link,i=n.state.graph.links[l];if(i){var s=n.state.graph.getNodeById(i.origin_id),c=n.state.inputPorts;c.push(s),r=c,l}}var u=r.map(function(e,a){return e.properties=n.state.panelData.filter(function(t){return t.numNodeType===e.id&&t.nodePath===e.type})[0].properties,t.blank([{predicate:G("https://w3id.org/fcage/fromNode"),object:G("urn:example:demo/"+e.properties.name)},{predicate:G("https://w3id.org/fcage/fromPort"),object:V(a)}])});t.addQuad(G("urn:example:demo/"+e.properties.name),G("https://w3id.org/fcage/hasInput"),t.list(u)),r.length=0,""}var p=e.properties;if("operation"in p)n.addBlankNodes("operation",p).forEach(function(e){t.addQuad(G("urn:example:demo/"+p.name),G("https://w3id.org/deer/operation"),t.blank(e))});else if("selector"in p&&""!==p.selector){n.addBlankNodes("selector",p).forEach(function(e){t.addQuad(G("urn:example:demo/"+p.name),G("https://w3id.org/deer/selector"),t.blank(e))})}else for(var d in p)"name"!==d&&p[d].length&&(p[d].includes("http")?t.addQuad(G("urn:example:demo/"+e.properties.name),G("https://w3id.org/deer/"+d),G(p[d])):t.addQuad(G("urn:example:demo/"+e.properties.name),G("https://w3id.org/deer/"+d),V(p[d])))}),t},n.downloadTtl=function(){n.saveConfig().end(function(e,t){console.log(t);var a=new Blob([t],{type:"text/ttl"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download="config.ttl",r.click(),t=""})},n.runConfig=function(){n.saveConfig().end(function(e,t){console.log(t),n.submitConfig(t),t=""})},n.sortBySelectorValue=function(e){var t=[];return e.forEach(function(a){var n,r;n=a.match(/_extra_\d+/g)?a.split("_extra_")[0].match(/\d+/g):a.match(/\d+/g)||1,r=1===n||null===n?e.filter(function(e){return null===e.match(/\d+/g)||e.match(/_extra_\d+/g)&&!e.split("_extra_")[0].match(/\d+/g)}):e.filter(function(e){return e.includes(n)&&!e.match(/_extra_\d+/g)||e.match(/_extra_\d+/g)&&e.split("_extra_")[0].match(/\d+/g)&&parseInt(e.split("_extra_")[0].match(/\d+/g)[0])===parseInt(n)});var o=t.map(function(e){return!e.every(function(e){return r.includes(e)})}).includes(!1);r.length&&!o&&t.push(r),r}),e=t},n.to2dArray=function(e){var t=Object.keys(e);return t=t.filter(function(e){return"name"!==e}),t=n.sortBySelectorValue(t)},n.addBlankNodes=function(e,t){var a=n.to2dArray(t),r=[];return a.forEach(function(a){var n=[];a.forEach(function(a){"name"!==a&&a!==e&&t[a].length&&n.push({predicate:G("https://w3id.org/deer/"+a.replace(/\d+/g,"").replace("_extra_","")),object:G(t[a])})}),r.push(n)}),r},n.downloadResults=function(e){fetch(J+"/result/"+n.state.requestID+"/"+n.state.availableFiles[e]).then(function(t){t.blob().then(function(t){var a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=n.state.availableFiles[e],r.click()})})},n.submitConfig=function(e){var t=new Blob([e],{type:"text/ttl"}),a=new File([t],"config.ttl"),r=new FormData;(r=n.uploadFiles()).append("config",a),fetch(J+"/submit",{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){e.error&&-1===e.error.code?n.setState({visible:!0}):e.requestId&&(n.setState({requestID:e.requestId,showLogButton:!0}),n.interval=setInterval(n.getStatusForRequest,1e3))})},n.getStatusForRequest=function(){fetch(J+"/status/"+n.state.requestID).then(function(e){return e.json()}).then(function(e){2===e.status.code?(clearInterval(n.interval),n.setState({requestCompleteModal:!0,showConfigButton:!0}),n.getResults()):1===e.status.code&&(clearInterval(n.interval),n.setState({visible:!0}))})},n.getResults=function(){fetch(J+"/results/"+n.state.requestID).then(function(e){return e.json()}).then(function(e){console.log(e.availableFiles),n.setState({availableFiles:e.availableFiles})})},n.showLogs=function(){fetch(J+"/logs/"+n.state.requestID).then(function(e){var t=document.getElementById("downloadlink");t.href=e.url,t.click()})},n.toggle=function(){n.setState({visible:!n.state.visible})},n.getFilteredOptions=function(e){n.setState({afterFilteredSuggestions:n.state.prefixOptions.filter(function(t){return t.toLowerCase().includes(e.target.value.toLowerCase())}),userInput:e.target.value})},n.selectedPrefix=function(e){n.setState({afterFilteredSuggestions:[],namespace:n.state.contexts[e.target.value],userInput:e.target.value,isDisabled:!1})},n.handleNamespaceChange=function(e){n.setState({namespace:e.target.value,isDisabled:!1})},n.addNewPrefixes=function(e){n.setState({addNewPrefixes:n.state.addNewPrefixes.concat(n.state.userInput)}),n.state.prefixes[n.state.userInput]=n.state.namespace},n.saveResults=function(){n.setState({showResultModal:!n.state.showResultModal})},n.toggleResultModal=function(){n.setState({showResultModal:!n.state.showResultModal})},n.toggleRequestCompleteModal=function(){n.setState({requestCompleteModal:!n.state.requestCompleteModal})},n.uploadFiles=function(){for(var e=n.state.selectedFiles,t=new FormData,a=0;a<e.length;a++)t.append("file",e[a]);return t},n.onSelectedFiles=function(e){n.setState({selectedFiles:e.target.files})},n.onSelectedFile=function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=e.target.result;n.ttlToUI(t)},a.readAsText(t,"UTF-8")},n.uploadTtl=function(e){n.hiddenFileInput.current.click()},n.ttlToUI=function(e){var t=new Q.Parser,a=t.parse(e),r=[];t.parse(e,function(e,t,o){t&&t.predicate.id.includes("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")&&function(){var e,o=t.object.id.split("https://w3id.org/deer/")[1];o.includes("Reader")&&(e="Reader"),o.includes("Writer")&&(e="Writer"),o.includes("Operator")&&(e="Operator");var l=Y.createNode(e+"/"+o);r.push({name:t.subject.id,instance:l}),n.state.graph.add(l);var i=a.filter(function(e){return t.subject.id===e.subject.id&&e.predicate.id.includes("hasInput")}).map(function(e){return e.object.id});if(i.length){if(i[i.length-1].includes("_:"))for(;!i.includes("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil");){var s=a.filter(function(e){return e.subject.id===i[i.length-1]}).map(function(e){return e.object.id});i=s}var c=r.filter(function(e){return e.name===i[0]});c.length&&c[0].instance.connect(0,l,0)}}()})},n.state={graph:new Y.LGraph,graphCanvas:null,outputLinks:[],prefixOptions:[],config:"",isModalOpen:!1,namespace:"",userInput:"",afterFilteredSuggestions:[],addNewPrefixes:[],showForm:!1,showComponent:"",node:"",isDisabled:!1,nodeArr:[],file:"",visible:!1,requestID:"",showResultModal:!1,requestCompleteModal:!1,showConfigButton:!1,availableFiles:[],showLogButton:!1,formProperties:"",input1:"",input2:"",prefixes:{example:"urn:example:demo/",foaf:"http://xmlns.com/foaf/0.1/",dbpedia:"http://dbpedia.org/resource/",deer:"https://w3id.org/deer/",fcage:"https://w3id.org/fcage/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",xsd:"http://www.w3.org/2001/XMLSchema#"},nodesArray:new Set,quads:[],tempXoneNodeParams:[],fullContent:null,inputPorts:[],inputLinkId:"",selectedFiles:[],panelData:[]},n.hiddenFileInput=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeWindowFunc)}},{key:"componentDidMount",value:function(){var e=this;this.resizeWindowFunc(),window.addEventListener("resize",this.resizeWindowFunc);var t=new Y.LGraphCanvas("#mycanvas",this.state.graph);this.setState({graphCanvas:t}),this.state.graph.start(),t.show_info=!1,fetch("http://prefix.cc/context").then(function(e){return e.json()}).then(function(t){e.setState({contexts:t["@context"],prefixOptions:Object.keys(t["@context"])})}),""!==this.state.userInput&&""!==this.state.namespace||this.setState({isDisabled:!0});var a=new Q.Parser;fetch(J+"/shapes").then(function(e){return e.text()}).then(function(t){var n=(new Q.Parser).parse(t);e.setState({fullContent:n}),a.parse(t,function(t,a,n){a&&e.showNode(a)})})}},{key:"render",value:function(){var e=this;w.a.map(this.state.prefixOptions,function(e,t){return{key:e,text:e,value:e}});return r.a.createElement("div",{className:"content"},r.a.createElement(I.a,{isOpen:this.state.visible,toggle:this.toggle},r.a.createElement(R.a,{toggle:this.toggle},"Incorrect Configuration"),r.a.createElement(M.a,null,"Please input all the required fields and connections.")),r.a.createElement(I.a,{isOpen:this.state.requestCompleteModal,toggle:this.toggleRequestCompleteModal},r.a.createElement(R.a,{toggle:this.toggleRequestCompleteModal},"Status"),r.a.createElement(M.a,null,"The results are ready. You can download them by clicking 'Show Results'.")),r.a.createElement(I.a,{isOpen:this.state.showResultModal,toggle:this.toggleResultModal},r.a.createElement(R.a,{toggle:this.toggleResultModal},"Results"),r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"File"),r.a.createElement("th",null,"Download"))),r.a.createElement("tbody",null,this.state.availableFiles.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(F.a,{onClick:function(){return e.downloadResults(a)}},r.a.createElement("i",{className:"fa fa-download",style:{color:"white"}})," ","Download")))}))))),r.a.createElement(L.a,null,r.a.createElement(B.a,{lg:"9",md:"9",sm:"9"},r.a.createElement(N.a,{className:"card-stats"},r.a.createElement("div",{className:"numbers"},r.a.createElement(j.a,{tag:"p"},"Prefixes")),r.a.createElement(O.a,null,r.a.createElement(L.a,null,r.a.createElement(B.a,{md:"12",xs:"12"},r.a.createElement(W.a,null,r.a.createElement(L.a,null,r.a.createElement(B.a,{md:"4"},r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"dropdown"},r.a.createElement("label",null,"Label"),r.a.createElement(k.a,{placeholder:"Label",type:"text",value:this.state.userInput,onChange:this.getFilteredOptions}),r.a.createElement(q.a,{className:"dropdown-content",toggle:this.toggleDropdown},this.state.afterFilteredSuggestions.map(function(t,a){return r.a.createElement(U.a,{className:"dropdown-item",value:t,onClick:e.selectedPrefix},t)}))))),r.a.createElement(B.a,{md:"4"},r.a.createElement(S.a,null,r.a.createElement("label",null,"Namespace"),r.a.createElement(k.a,{placeholder:"Namespace",type:"text",value:this.state.namespace,onChange:this.handleNamespaceChange}))),r.a.createElement(B.a,{md:"4"},r.a.createElement(F.a,{disabled:this.state.isDisabled,className:"btn-round prefixBtn",color:"primary",onClick:this.addNewPrefixes},"Add prefix"))))))),r.a.createElement(z.a,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"stats"},this.state.addNewPrefixes.map(function(e){return r.a.createElement(A.a,{variant:"light"}," ",e)}))))),r.a.createElement(B.a,{lg:"3",md:"3",sm:"3"},r.a.createElement(N.a,{className:"card-stats"},r.a.createElement("div",{className:"numbers"},r.a.createElement(j.a,{tag:"p"},"Attach files")),r.a.createElement(O.a,null,r.a.createElement(L.a,null,r.a.createElement(B.a,{md:"8"},r.a.createElement(k.a,{className:"file inputFile",multiple:!0,type:"file",name:"file",id:"exampleFile",onChange:this.onSelectedFiles})))),r.a.createElement("hr",null),r.a.createElement(z.a,null)))),r.a.createElement(L.a,null,r.a.createElement(B.a,{md:"9"},r.a.createElement(N.a,null,r.a.createElement("div",{style:{marginLeft:"10px"}},r.a.createElement("div",{className:"numbers",style:{float:"left"}},r.a.createElement(j.a,{tag:"p"},"Graph")),r.a.createElement("input",{style:{display:"none"},ref:this.hiddenFileInput,type:"file",onChange:this.onSelectedFile}),r.a.createElement(F.a,{onClick:this.uploadTtl,style:{marginRight:"10px",float:"right",marginBottom:"0px"}},r.a.createElement("i",{className:"fa fa-upload",style:{color:"white"}})," Import Configuration")),r.a.createElement(O.a,null,r.a.createElement("div",{id:"parentCanvas",className:"litegraph litegraph-editor"},r.a.createElement("canvas",{id:"mycanvas",height:"600",width:"1000"})," ")),r.a.createElement(z.a,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"stats"},r.a.createElement(F.a,{onClick:this.runConfig},r.a.createElement("i",{className:"fa fa-cog",style:{color:"white"}})," Run Configuration"),this.state.showConfigButton?r.a.createElement(F.a,{onClick:this.saveResults,style:{marginLeft:"10px"}},r.a.createElement("i",{className:"fa fa-sticky-note",style:{color:"white"}})," ","Show results"):"",this.state.showLogButton?r.a.createElement("a",{target:"_blank",id:"downloadlink",ref:"file"},r.a.createElement(F.a,{onClick:this.showLogs,style:{marginLeft:"10px"}},r.a.createElement("i",{className:"fa fa-cog",style:{color:"white"}})," ","Logs")):"",r.a.createElement(F.a,{onClick:this.downloadTtl,style:{marginLeft:"10px"}},r.a.createElement("i",{className:"fa fa-download",style:{color:"white"}})," Export Configuration"))))),r.a.createElement(B.a,{md:"3"},this.state.panelData.filter(function(e){return!0===e.showPanel}).map(function(t){return r.a.createElement(_,{key:t.nodePath+t.numNodeType,panelData:t,updateParentPanelData:e.updateParentPanelData,sortBySelectorValue:e.sortBySelectorValue})}))))}}]),a}(r.a.Component);Y.registered_node_types={},Y.searchbox_extras={};var Z,$=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-bank",component:K,layout:"/admin"}],ee=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={isOpen:!1,dropdownOpen:!1,color:"transparent"},a.toggle=a.toggle.bind(Object(f.a)(a)),a.dropdownToggle=a.dropdownToggle.bind(Object(f.a)(a)),a.sidebarToggle=r.a.createRef(),a}return Object(u.a)(n,[{key:"toggle",value:function(){this.state.isOpen?this.setState({color:"transparent"}):this.setState({color:"dark"}),this.setState({isOpen:!this.state.isOpen})}},{key:"dropdownToggle",value:function(e){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"getBrand",value:function(){var e="Default Brand";return $.map(function(t,a){return-1!==window.location.href.indexOf(t.layout+t.path)&&(e=t.name),null}),e}},{key:"openSidebar",value:function(){document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled")}},{key:"updateColor",value:function(){window.innerWidth<993&&this.state.isOpen?this.setState({color:"dark"}):this.setState({color:"transparent"})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateColor.bind(this))}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),this.sidebarToggle.current.classList.toggle("toggled"))}},{key:"render",value:function(){return r.a.createElement(h.a,{color:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"dark":this.state.color,expand:"lg",className:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===this.state.color?"navbar-transparent ":"")},r.a.createElement(g.a,{fluid:!0},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement("div",{className:"navbar-toggle"}),r.a.createElement(v.a,{href:"/"},r.a.createElement("img",{className:"logo-height",alt:"...",src:a(102)}),r.a.createElement("span",{className:"logo-title"},"DEER Web UI")))))}}]),n}(r.a.Component),te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"+(this.props.default?" footer-default":"")},r.a.createElement(g.a,{fluid:!!this.props.fluid},r.a.createElement(L.a,null,r.a.createElement("nav",{className:"footer-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.creative-tim.com",target:"_blank"})),r.a.createElement("li",null,r.a.createElement("a",{href:"https://blog.creative-tim.com",target:"_blank"})),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.creative-tim.com/license",target:"_blank"})))),r.a.createElement("div",{className:"credits ml-auto"}))))}}]),a}(r.a.Component),ae=(a(103),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleActiveClick=function(e){n.setState({activeColor:e})},n.handleBgClick=function(e){n.setState({backgroundColor:e})},n.state={backgroundColor:"black",activeColor:"info"},n.mainPanel=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(Z=new m.a(this.mainPanel.current),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&(Z.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentDidUpdate",value:function(e){"PUSH"===e.history.action&&(this.mainPanel.current.scrollTop=0,document.scrollingElement.scrollTop=0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main-panel",ref:this.mainPanel},r.a.createElement(ee,this.props),r.a.createElement(s.d,null,$.map(function(e,t){return r.a.createElement(s.b,{path:e.layout+e.path,component:e.component,key:t})})),r.a.createElement(te,{fluid:!0})))}}]),a}(r.a.Component)),ne=Object(i.a)();l.a.render(r.a.createElement(s.c,{history:ne},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/admin",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(s.a,{to:"/admin/dashboard"}))),document.getElementById("root"))},64:function(e,t,a){e.exports=a(107)},70:function(e,t,a){},71:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},82:function(e,t){},84:function(e,t){}},[[64,1,2]]]);
//# sourceMappingURL=main.3ac73c9a.chunk.js.map